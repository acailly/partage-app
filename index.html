<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Partage Chateaubourg</title>

    <link href="https://unpkg.com/m-@1.6.0/dist/min.css" rel="stylesheet" />
    <script src="https://unpkg.com/m-@1.6.0/dist/min.js" defer></script>
  </head>
  <body class="bg-offwhite">
    <m-container maxwidth="md">
      <header class="flex flx-col justify-content-center pad-b-xl">
        <h1 class="txt-center">Partage sur ChÃ¢teaubourg</h1>
        <a
          role="button"
          ord="primary"
          href="add.html"
          class="align-self-center"
        >
          PrÃªter mes objets
        </a>
      </header>

      <datalist id="Liste des catÃ©gories">
        <option>ğŸ› ï¸ Bricolage et jardinage</option>
        <option>ğŸš´â€â™€ï¸ VÃ©lo, trotinette, etc. et accessoires</option>
        <option>â›¹ï¸ MatÃ©riel de sport</option>
        <option>ğŸª€ Jouets</option>
        <option>ğŸ“± High Tech</option>
      </datalist>

      <datalist id="ğŸ› ï¸ Bricolage et jardinage">
        <option>Perceuse / visseuse</option>
        <option>Pelle</option>
        <option>Rateau</option>
        <option>Tondeuse</option>
        <option>Coupe bordure</option>
        <option>Etabli</option>
        <option>Scie sauteuse</option>
        <option>Souffleur / Aspirateur Ã  feuille</option>
        <option>Pioche</option>
        <option>Grelinette</option>
        <option>ClÃ©s et tournevis</option>
      </datalist>

      <datalist id="ğŸš´â€â™€ï¸ VÃ©lo, trotinette, etc. et accessoires">
        <option>VÃ©lo</option>
        <option>Trotinette</option>
        <option>Pompe Ã  vÃ©lo</option>
        <option>Sacoche</option>
      </datalist>

      <datalist id="â›¹ï¸ MatÃ©riel de sport"></datalist>
      
      <datalist id="ğŸª€ Jouets"></datalist>
      
      <datalist id="ğŸ“± High Tech"></datalist>

      <script>
        let html = "";

        const listeCatÃ©gories = Array.from(
          document.getElementById("Liste des catÃ©gories").options
        );

        listeCatÃ©gories.forEach((catÃ©gorie) => {
          const listeObjetsDansCatÃ©gorie = Array.from(
            document.getElementById(catÃ©gorie.value).options
          );

          html += `<section class="pad-all-md">`;
          html += `<h4>${catÃ©gorie.value} (${listeObjetsDansCatÃ©gorie.length} types d'objets)</h4>`;
          html += `<m-box ord="primary" class="pad-l-lg">`;

          let premiÃ¨reColonne = true;
          listeObjetsDansCatÃ©gorie.forEach((objet) => {
            if (premiÃ¨reColonne) {
              html += `<m-row>`;
            }

            html += `<m-col>`;
            html += `<a href="ask.html?object=${objet.value}">${objet.value}</a>`;
            html += `</m-col>`;

            if (!premiÃ¨reColonne) {
              html += `</m-row>`;
            }

            premiÃ¨reColonne = !premiÃ¨reColonne;
          });

          html += `</m-box>`;
          html += `</section>`;
        });

        const main = document.createElement("main");
        main.innerHTML = html;

        document.currentScript.after(main);
        document.currentScript.remove();
      </script>
    </m-container>
  </body>
</html>
